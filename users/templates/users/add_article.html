{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}Ajouter un article{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center">Ajouter un article</h2>
    <form method="post" class="card p-4 shadow-sm" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-3">
            <label for="{{ form.title.id_for_label }}" class="form-label"><i class="fas fa-heading"></i> Titre</label>
            {{ form.title|add_class:"form-control" }}
            {% if form.title.errors %}
                <div class="text-danger">{{ form.title.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="{{ form.content.id_for_label }}" class="form-label"><i class="fas fa-align-left"></i> Contenu</label>
            {{ form.content|add_class:"form-control" }}
            {% if form.content.errors %}
                <div class="text-danger">{{ form.content.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="{{ form.category.id_for_label }}" class="form-label"><i class="fas fa-folder"></i> Catégorie</label>
            {{ form.category|add_class:"form-control" }}
            {% if form.category.errors %}
                <div class="text-danger">{{ form.category.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="{{ form.tags.id_for_label }}" class="form-label"><i class="fas fa-tags"></i> Tags</label>
            {{ form.tags|add_class:"form-control" }}
            {% if form.tags.errors %}
                <div class="text-danger">{{ form.tags.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="{{ form.status.id_for_label }}" class="form-label"><i class="fas fa-info-circle"></i> Statut</label>
            {{ form.status|add_class:"form-control" }}
            {% if form.status.errors %}
                <div class="text-danger">{{ form.status.errors }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="{{ form.image.id_for_label }}" class="form-label"><i class="fas fa-image"></i> Image de couverture</label>
            {{ form.image|add_class:"form-control" }}
            {% if form.image.errors %}
                <div class="text-danger">{{ form.image.errors }}</div>
            {% endif %}
        </div>
        <div class="d-flex justify-content-center gap-2">
            <button type="submit" class="btn btn-success">Ajouter</button>
            <a href="{% url 'users:manage_articles' %}" class="btn btn-secondary">Annuler</a>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
{{ form.media }}  <!-- Pour CKEditor si utilisé -->
{% endblock %}